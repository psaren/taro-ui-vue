/*! For license information please see 64.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[64],{"311":function(e,t,a){"use strict";a.r(t),a.d(t,"taro_tabbar",(function(){return d}));var r=a(54),o=a(324);function isAbsolute(e){return"/"===e.charAt(0)}function spliceOne(e,t){for(var a=t,r=a+1,o=e.length;r<o;a+=1,r+=1)e[a]=e[r];e.pop()}var n=function splitUrl(e){var t,a=e||"",r={"path":null,"query":null,"fragment":null};return(t=a.indexOf("#"))>-1&&(r.fragment=a.substring(t+1),a=a.substring(0,t)),(t=a.indexOf("?"))>-1&&(r.query=a.substring(t+1),a=a.substring(0,t)),r.path=a,r},i=function TabbarItem(e){var t=e.index,a=void 0===t?null:t,n=e.isSelected,i=void 0!==n&&n,s=e.textColor,b=void 0===s?{}:s,l=e.iconPath,d=void 0===l?"":l,h=e.badgeText,c=void 0===h?null:h,u=e.showRedDot,f=void 0!==u&&u,g=e.text,p=Object(o.a)("weui-tabbar__item",{"weui-bar__item_on":i});return Object(r.f)("a",{"key":a,"href":"javascript:;","class":p,"onClick":function onClick(){e.onSelect(e.index)}},Object(r.f)("span",{"style":{"display":"inline-block","position":"relative"}},Object(r.f)("img",{"src":d,"alt":"","class":"weui-tabbar__icon"}),c&&Object(r.f)("span",{"class":"weui-badge taro-tabbar-badge","style":{"position":"absolute","top":"-2px","right":"-13px"}},c),f&&Object(r.f)("span",{"class":"weui-badge weui-badge_dot","style":{"position":"absolute","top":"0","right":"-6px"}})),Object(r.f)("p",{"class":"weui-tabbar__label","style":{"color":b}},g))},s=a(83),b=function addLeadingSlash(e){return"/"===e[0]?e:"/"+e},l=function stripBasename(e,t){return function hasBasename(e,t){return new RegExp("^"+t+"(\\/|\\?|#|$)","i").test(e)}(e,t)?e.substr(t.length):e},d=function(){function Tabbar(e){var t=this;Object(r.g)(this,e),this.homePage="",this.customRoutes=[],this.tabbarPos="bottom",this.selectedIndex=-1,this.status=0,this.getOriginUrl=function(e){var a=t.customRoutes.filter((function(t){var a=t[1];return n(a).path===n(e).path}));return a.length?a[0][0]:e},this.getSelectedIndex=function(e){var a=-1;return t.list.forEach((function(t,r){var o=t.pagePath;n(e).path===n(o).path&&(a=r)})),a},this.switchTab=function(e){t.selectedIndex=e,s.redirectTo({"url":t.list[e].pagePath})},this.switchTabHandler=function(e){var a=e.url,r=e.successHandler,o=e.errorHandler,n=function resolvePathname(e,t){void 0===t&&(t="");var a,r=e&&e.split("/")||[],o=t&&t.split("/")||[],n=e&&isAbsolute(e),i=t&&isAbsolute(t),s=n||i;if(e&&isAbsolute(e)?o=r:r.length&&(o.pop(),o=o.concat(r)),!o.length)return"/";if(o.length){var b=o[o.length-1];a="."===b||".."===b||""===b}else a=!1;for(var l=0,d=o.length;d>=0;d--){var h=o[d];"."===h?spliceOne(o,d):".."===h?(spliceOne(o,d),l++):l&&(spliceOne(o,d),l--)}if(!s)for(;l--;l)o.unshift("..");!s||""===o[0]||o[0]&&isAbsolute(o[0])||o.unshift("");var c=o.join("/");return a&&"/"!==c.substr(-1)&&(c+="/"),c}(a,t.getOriginUrl(t.getCurrentUrl()||t.homePage)),i=t.getSelectedIndex(n);i>-1?(t.switchTab(i),r({"errMsg":"switchTab:ok"})):o({"errMsg":'switchTab:fail page "'+n+'" is not found'})},this.routerChangeHandler=function(e){var a,r;if(e&&(a=e.toLocation),a&&a.path){var o=b(a.path);r="/"===o?t.homePage:o}else r=t.getCurrentUrl();t.selectedIndex=t.getSelectedIndex(t.getOriginUrl(r))},this.setTabBarBadgeHandler=function(e){var a=e.index,r=e.text,o=e.errorHandler;a in t.list?(t.list[a].showRedDot=!1,t.list[a].badgeText=r):o({"errMsg":"setTabBarBadge:fail tabbar item not found"})},this.removeTabBarBadgeHandler=function(e){var a=e.index,r=e.successHandler,o=e.errorHandler;a in t.list?(t.list[a].badgeText=null,t.list[a].badgeText=null,r({"errMsg":"removeTabBarBadge:ok"})):o({"errMsg":"removeTabBarBadge:fail tabbar item not found"})},this.showTabBarRedDotHandler=function(e){var a=e.index,r=e.successHandler,o=e.errorHandler,n=t.list;a in n?(n[a].badgeText=null,n[a].showRedDot=!0,r({"errMsg":"showTabBarRedDot:ok"})):o({"errMsg":"showTabBarRedDot:fail tabbar item not found"})},this.hideTabBarRedDotHandler=function(e){var a=e.index,r=e.successHandler,o=e.errorHandler,n=t.list;a in n?(n[a].showRedDot=!1,r({"errMsg":"hideTabBarRedDot:ok"})):o({"errMsg":"hideTabBarRedDot:fail tabbar item not found"})},this.showTabBarHandler=function(e){var a=e.successHandler;t.status=0,a({"errMsg":"showTabBar:ok"})},this.hideTabBarHandler=function(e){var a=e.animation,r=e.successHandler;t.status=a?2:1,r({"errMsg":"hideTabBar:ok"})};var a=this.conf.list,o=this.conf.customRoutes;if("[object Array]"!==Object.prototype.toString.call(a)||a.length<2||a.length>5)throw new Error("tabBar 配置错误");for(var i in this.homePage=b(this.homePage),o)this.customRoutes.push([i,o[i]]);a.forEach((function(e){0!==e.pagePath.indexOf("/")&&(e.pagePath="/"+e.pagePath)})),this.list=a,this.onLongPress=Object(r.d)(this,"longpress",7)}return Tabbar.prototype.getCurrentUrl=function(){var e,t=this.conf.mode,a=this.conf.basename||"/";if("hash"===t){var r=window.location.href,o=r.indexOf("#");e=-1===o?"":r.substring(o+1)}else e=location.pathname;var n=b(l(e,a));return"/"===n?this.homePage:n},Tabbar.prototype.bindEvent=function(){s.eventCenter.on("__taroRouterChange",this.routerChangeHandler),s.eventCenter.on("__taroSwitchTab",this.switchTabHandler),s.eventCenter.on("__taroSetTabBarBadge",this.setTabBarBadgeHandler),s.eventCenter.on("__taroRemoveTabBarBadge",this.removeTabBarBadgeHandler),s.eventCenter.on("__taroShowTabBarRedDotHandler",this.showTabBarRedDotHandler),s.eventCenter.on("__taroHideTabBarRedDotHandler",this.hideTabBarRedDotHandler),s.eventCenter.on("__taroShowTabBar",this.showTabBarHandler),s.eventCenter.on("__taroHideTabBar",this.hideTabBarHandler)},Tabbar.prototype.removeEvent=function(){s.eventCenter.off("__taroRouterChange",this.routerChangeHandler),s.eventCenter.off("__taroSwitchTab",this.switchTabHandler),s.eventCenter.off("__taroSetTabBarBadge",this.setTabBarBadgeHandler),s.eventCenter.off("__taroRemoveTabBarBadge",this.removeTabBarBadgeHandler),s.eventCenter.off("__taroShowTabBarRedDotHandler",this.showTabBarRedDotHandler),s.eventCenter.off("__taroHideTabBarRedDotHandler",this.hideTabBarRedDotHandler),s.eventCenter.off("__taroShowTabBarHandler",this.showTabBarHandler),s.eventCenter.off("__taroHideTabBarHandler",this.hideTabBarHandler)},Tabbar.prototype.componentDidLoad=function(){this.tabbarPos=this.tabbar.nextElementSibling?"top":"bottom",this.bindEvent(),this.routerChangeHandler()},Tabbar.prototype.componentDidUnload=function(){this.removeEvent()},Tabbar.prototype.render=function(){var e,t,a=this,n=this.conf,s=this.tabbarPos,b=void 0===s?"bottom":s,l=this.status,d=Object(o.a)("weui-tabbar",((e={})["taro-tabbar__border-"+(n.borderStyle||"black")]=!0,e)),h=-1===this.selectedIndex||1===l,c=2===l;return Object(r.f)(r.a,{"class":Object(o.a)("taro-tabbar__tabbar","taro-tabbar__tabbar-"+b,(t={},t["taro-tabbar__tabbar-hide"]=h,t["taro-tabbar__tabbar-slideout"]=c,t))},Object(r.f)("div",{"class":d,"style":{"backgroundColor":n.backgroundColor||""}},this.list.map((function(e,t){var o,s,b=a.selectedIndex===t;return b?(o=n.selectedColor,s=e.selectedIconPath):(o=n.color||"",s=e.iconPath),Object(r.f)(i,{"index":t,"onSelect":a.switchTab.bind(a),"isSelected":b,"textColor":o,"iconPath":s,"text":e.text,"badgeText":e.badgeText,"showRedDot":e.showRedDot})}))))},Object.defineProperty(Tabbar.prototype,"tabbar",{"get":function get(){return Object(r.e)(this)},"enumerable":!0,"configurable":!0}),Object.defineProperty(Tabbar,"style",{"get":function get(){return"#app,body,html{height:100%}.taro-tabbar__border-white:before{border-top-color:#fff!important}.taro-tabbar__container{display:-ms-flexbox;display:flex;height:100%;-ms-flex-direction:column;flex-direction:column;overflow:hidden}.taro-tabbar__panel{-ms-flex:1;flex:1;position:relative;overflow:auto;-webkit-overflow-scrolling:touch}.taro-tabbar__tabbar{position:relative;height:50px;width:100%;-webkit-transition:bottom .2s,top .2s;transition:bottom .2s,top .2s}.taro-tabbar__tabbar-top{top:0}.taro-tabbar__tabbar-bottom{bottom:0}.taro-tabbar__tabbar-hide{display:none}.taro-tabbar__tabbar-slideout{top:-52px;-ms-flex:0 0;flex:0 0}.taro-tabbar__panel+.taro-tabbar__tabbar-slideout{top:auto;bottom:-52px}"},"enumerable":!0,"configurable":!0}),Tabbar}()},"324":function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var r=a(5);var o=function createCommonjsModule(e,t){return e(t={"exports":{}},t.exports),t.exports}((function(e){!function(){var t={}.hasOwnProperty;function classNames(){for(var e=[],a=0;a<arguments.length;a++){var o=arguments[a];if(o){var n=Object(r.a)(o);if("string"===n||"number"===n)e.push(o);else if(Array.isArray(o)&&o.length){var i=classNames.apply(null,o);i&&e.push(i)}else if("object"===n)for(var s in o)t.call(o,s)&&o[s]&&e.push(s)}}return e.join(" ")}e.exports?(classNames.default=classNames,e.exports=classNames):window.classNames=classNames}()}))}}]);